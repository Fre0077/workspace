<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Home Page</title>
</head>
<body>
	<h1>Welcome to the Home Page</h1>
	<p>This is a simple HTML page served by a web server.</p>

	<!-- Navigation links -->
	<a href="/about">About Us</a><br>
	<a href="/contact">Contact Us</a><br><br>

	<!-- Button to go to hello page -->
	<button onclick="window.location.href='/hello'">Go to Hello World</button><br><br>

	<!-- File upload form -->
	<h3>Upload a File</h3>
	<form action="/upload" method="POST" enctype="multipart/form-data">
		<input type="file" name="file" required>
		<button type="submit">Upload</button>
	</form><br>

	<!-- Delete file form -->
	<h3>Delete a File</h3>
	<form id="deleteForm">
		<label for="deletePath">File Path:</label>
		<input type="text" id="deletePath" required placeholder="/uploads/file.txt">
		<button type="button" onclick="deleteFile()">Delete</button>
	</form>

	<script>
		function deleteFile() {
			const path = document.getElementById("deletePath").value.trim();
			if (!path) {
				alert("Please enter a valid file path.");
				return;
			}

			fetch(path, {
				method: 'DELETE',
				headers: {
					'Content-Type': 'application/json',
				},
			})
			.then(response => {
				if (response.ok) {
					window.location.href = '/delete'; // Redirect to delete success page and do a fart
				} else {
					alert("Failed to delete the file.");
				}
			})
			.catch(error => {
				console.error('Error:', error);
				alert("An error occurred while deleting the file.");
			});
		}
	</script>

<!--
	Delete file form
	<h3>Delete a File</h3>
	<form action="/delete" method="DELETE" id="deleteForm">
		<label for="deletePath">File Path:</label>
		<input type="text" id="deletePath" required placeholder="/uploads/file.txt">
		<button type="submit">Delete</button>
	</form>

	<script>
	document.getElementById("deleteForm").addEventListener("submit", function (e) {
		e.preventDefault(); // blocca l'invio standard

		const path = document.getElementById("deletePath").value.trim();
		if (!path) {
			alert("Inserisci un path valido.");
			return;
		}

		fetch(path, {
			method: 'DELETE',
			path:"/delete"
		})
	});
	</script>
-->

</body>
</html>